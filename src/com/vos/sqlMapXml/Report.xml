<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"   
						"http://ibatis.apache.org/dtd/sql-map-2.dtd">
						
<sqlMap>
	<select id="getAllReport" resultClass="com.vos.ReportSearchVO" parameterClass="java.util.Map">
	<![CDATA[
		select a.taxId,b.taxName,b.taxAgentName,b.taxAgentMobile,b.adminName,b.adminMobile,b.rep,b.repMobile,a.year,a.month,a.imposeType from tax_report a,tax_entbasicinfor b where a.taxId=b.taxId
	]]>
		<dynamic prepend="WHERE">
			 <isNotNull prepend="AND" property="taxId">       
                  (a.taxId = #taxId#)       
            </isNotNull>
            <isNotNull prepend="AND" property="taxName">       
                  (taxName like '%$taxName$%')       
            </isNotNull>
             <isNotNull prepend="AND" property="year">       
                  (year = #year#)       
            </isNotNull>
             <isNotNull prepend="AND" property="month">       
                  (month = #month#)       
            </isNotNull>
             <isNotEmpty prepend="AND" property="imposeType">    
                  (imposeType like '%$imposeType$%')    
            </isNotEmpty> 
		</dynamic>
		limit #firstRow#,#pageSize#		
	</select>
	
	<select id="getReportCount" resultClass="java.lang.Integer" parameterClass="com.vos.ReportSearchVO">
	<![CDATA[
		select count(*) from tax_report
		]]>
		<dynamic prepend="WHERE"> 
			 <isNotNull prepend="AND" property="taxId">       
                  (taxId = #taxId#)       
            </isNotNull>
            <isNotNull prepend="AND" property="taxName">       
                  (taxName like '%$taxName$%')       
            </isNotNull>
             <isNotNull prepend="AND" property="year">       
                  (year = #year#)       
            </isNotNull>
             <isNotNull prepend="AND" property="month">       
                  (month = #month#)       
            </isNotNull>
             <isNotEmpty prepend="AND" property="imposeType">    
                  (imposeType like '%$imposeType$%')    
            </isNotEmpty> 
		</dynamic>		
		
	</select>
	
</sqlMap>